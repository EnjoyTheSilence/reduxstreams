{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/GoogleAuth.js","components/Header.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamEdit.js","components/streams/StreamList.js","components/streams/StreamShow.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","concat","sent","type","payload","data","stop","this","_x4","apply","arguments","GoogleAuth","onAuthChange","isSignedIn","_this","props","signIn","auth","currentUser","getId","signOut","onSignInClick","onSignOutClick","_this2","window","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","react_default","createElement","onClick","className","renderAuthButton","React","Component","connect","state","userId","Header","Link","to","components_GoogleAuth","StreamForm","renderInput","_ref","input","label","meta","error","touched","assign","autoComplete","renderError","onSubmit","formValues","_ref2","handleSubmit","Field","name","component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","streams_StreamForm","_callee","getState","_context","post","objectSpread","history","push","_x","_x2","Modal","ReactDOM","createPortal","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","match","params","stream","Fragment","deleteStream","components_Modal","renderContent","renderActions","ownProps","_ref5","_callee5","_context5","delete","_x6","StreamEdit","editStream","initialValues","_","pick","_ref4","_callee4","_context4","patch","_x5","StreamList","fetchStreams","currentUserId","style","textAlign","map","key","renderAdmin","renderList","renderCreate","values","_callee2","_context2","_x3","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","player","destroy","flv","createPlayer","url","attachMediaElement","current","ref","width","controls","App","Router","components_Header","Switch","Route","path","exact","INITIAL_STATE","combineReducers","length","undefined","action","formReducer","mapKeys","defineProperty","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.2f386df9.chunk.js","sourcesContent":["import axios from 'axios';\n\nexport default axios.create({\n  baseURL: 'http://localhost:3001'\n})\n","import createHistory from 'history/createBrowserHistory';\n//installed automatically with react-router-dom\n\nexport default createHistory();\n","import streams from '../apis/streams';\nimport history from '../history';\nimport {\n  SIGN_IN,\n  SIGN_OUT ,\n  CREATE_STREAM,\n  FETCH_STREAMS,\n  FETCH_STREAM,\n  DELETE_STREAM,\n  EDIT_STREAM\n} from './types.js'\n\nexport const signIn = (userId) => {\n  return {\n    type: SIGN_IN,\n    payload: userId\n  };\n};\n\nexport const signOut = () => {\n  return {\n    type: SIGN_OUT\n  };\n};\n\nexport const createStream = formValues => async (dispatch, getState) => {\n    const { userId } = getState().auth;\n    //adds users google id to our db alongside the stream they created\n    const response = await streams.post('/streams', { ...formValues , userId });\n\n    dispatch({ type: CREATE_STREAM, payload: response.data });\n    history.push('/')\n    //programmatic navigation to direct user back to root route\n    //when successful stream create\n    //use push to navigate user to where we want to go\n      //ex / for root\n};\n\nexport const fetchStreams = () => async dispatch => {\n  const response = await streams.get('/streams');\n\n  dispatch({ type: FETCH_STREAMS, payload: response.data })\n};\n\nexport const fetchStream = (id) => async dispatch => {\n  const response = await streams.get(`/streams/${id}`);\n\n  dispatch({ type: FETCH_STREAM, payload: response.data })\n};\n\nexport const editStream = (id, formValues) => async dispatch => {\n  const response = await streams.patch(`/streams/${id}`, formValues);\n\n  dispatch({ type: EDIT_STREAM, payload: response.data })\n  history.push('/');\n};\n\nexport const deleteStream = (id) => async dispatch => {\n  //no response\n  await streams.delete(`/streams/${id}`);\n\n  dispatch({ type: DELETE_STREAM , payload: id });\n  history.push('/');\n}\n","export const SIGN_IN = 'SIGN_IN';\nexport const SIGN_OUT = 'SIGN_OUT';\nexport const CREATE_STREAM ='CREATE_STREAM';\nexport const FETCH_STREAMS = 'FETCH_STREAMS';\nexport const FETCH_STREAM = 'FETCH_STREAM';\nexport const DELETE_STREAM = 'DELETE_STREAM';\nexport const EDIT_STREAM = 'EDIT_STREAM';\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { signIn, signOut } from '../actions';\n\nclass GoogleAuth extends React.Component {\n\n  componentDidMount(){\n    window.gapi.load('client:auth2', () => {\n      window.gapi.client.init({\n        clientId : '736089993774-bb80s3fkpn5sussi4r2cdlf8oq132n3t.apps.googleusercontent.com',\n        scope: 'email'\n      }).then( () =>{\n        this.auth = window.gapi.auth2.getAuthInstance();\n        this.onAuthChange(this.auth.isSignedIn.get());\n        this.auth.isSignedIn.listen(this.onAuthChange);\n      });\n    });\n  }\n\nonAuthChange = (isSignedIn) => {\n  if(isSignedIn){\n    this.props.signIn(this.auth.currentUser.get().getId())\n  } else {\n    this.props.signOut();\n  }\n}\n\nonSignInClick = () => {\n  this.auth.signIn();\n}\n\nonSignOutClick = () => {\n  this.auth.signOut();\n}\n\nrenderAuthButton(){\n  if(this.props.isSignedIn === null){\n    return null;\n  } else if(this.props.isSignedIn){\n    return (\n      <button onClick={this.onSignOutClick} className=\"ui red google button\">\n        <i className=\"google icon\"  />\n          Sign Out\n      </button>\n    )\n  } else {\n    return (\n      <button onClick={this.onSignInClick} className=\"ui red google button\" >\n        <i className=\"google icon\" />\n          Sign In With Google\n      </button>\n    )\n  }\n}\n\n  render() {\n    return <div> {this.renderAuthButton()} </div>\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  { signIn, signOut }\n)(GoogleAuth);\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport GoogleAuth from './GoogleAuth';\n\nconst Header = () => {\n  return (\n    <div className=\"ui secondary pointing menu\">\n      <Link to=\"/\" className=\"item\">\n        Streamer\n      </Link>\n      <div className=\"right menu\">\n        <Link to=\"/\" className=\"item\">\n          All Streams\n        </Link>\n        <GoogleAuth />\n      </div>\n    </div>\n)}\n\nexport default Header;\n","import React from 'react';\nimport { Field, reduxForm } from 'redux-form';\n//uppercase for components\n//lowercase for functions\n\nclass StreamForm extends React.Component {\n\n  renderError({error, touched}){\n    if(touched && error){\n      return (\n        <div className=\"ui error message\">\n          <div className=\"header\">{error}</div>\n        </div>\n      )\n    }\n  }\n\n  renderInput = ({input, label, meta}) => {\n    //destructuring formProps.label formProps.meta etc\n    const className = `field ${meta.error && meta.touched ? 'error' : ''}`\n    return (\n      <div className={className}>\n      <label>{label}</label>\n      <input {...input} autoComplete=\"off\" />\n      {this.renderError(meta)}\n      </div>\n    )\n  }\n\n  onSubmit = formValues => {\n    this.props.onSubmit(formValues);\n  }\n\n  render(){\n    return (\n      <form\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\n        className=\"ui form error\"\n      >\n        <Field name=\"title\" component={this.renderInput} label=\"Enter Title\" />\n        <Field name=\"description\" component={this.renderInput} label=\"Enter Description\" />\n        <button className=\"ui button primary\"> Submit </button>\n      </form>\n    );\n  }\n}\n\nconst validate = (formValues) => {\n  const errors = {};\n  if(!formValues.title) {\n    errors.title = 'You must enter a valid input'\n  }\n  if(!formValues.description){\n    errors.description = 'You must enter a valid description'\n  }\n  return errors;\n}\n\nexport default reduxForm({\n  form: 'streamForm',\n  validate: validate\n})(StreamForm);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { createStream } from '../../actions';\nimport StreamForm from './StreamForm';\n//uppercase for components\n//lowercase for functions\n\nclass StreamCreate extends React.Component {\n\n  onSubmit = (formValues) => {\n    this.props.createStream(formValues);\n  }\n\n  render(){\n    return (\n      <div>\n        <h3> Create a Stream </h3>\n        <StreamForm onSubmit={this.onSubmit} />\n      </div>\n    );\n  }\n}\n\nexport default connect(null, {createStream})(StreamCreate);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nconst Modal = props => {\n  return ReactDOM.createPortal(\n    <div\n      onClick={props.onDismiss}\n      className=\"ui dimmer modals visible active\"\n    >\n      <div\n        onClick={(e)=> e.stopPropagation()}\n          //stops event from bubbling up and being called when we click on modal box\n        className=\"ui standard modal visible active\"\n      >\n        <div className=\"header\">{props.title}</div>\n        <div className=\"content\">{props.content}</div>\n        <div className=\"actions\">{props.actions}</div>\n      </div>\n    </div>,\n    document.querySelector('#modal')\n  )\n  //first argument of ReactDOM.createPortal is jsx\n  //second argument is where we want to insert the jsx element\n    //ex body or head or root\n  //usually create some specific class in index.html where we want to insert\n}\n\nexport default Modal;\n","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport Modal from '../Modal';\nimport history from '../../history';\nimport { fetchStream , deleteStream } from '../../actions';\n\nclass StreamDelete extends React.Component{\n\n  componentDidMount(){\n    this.props.fetchStream(this.props.match.params.id)\n  }\n\n  renderContent(){\n    if(!this.props.stream){\n      return 'Are you sure you want to delete this stream?'\n    }\n    return `Are you sure you want to delete: ${this.props.stream.title}`\n  }\n\n  renderActions(){\n    const id = this.props.match.params.id;\n    return (\n      <React.Fragment>\n        <button\n          onClick={ ()=> {this.props.deleteStream(id)} }\n          className=\"ui button negative\">\n          Delete \n        </button>\n        <Link to=\"/\" className=\"ui button\"> Cancel </Link>\n      </React.Fragment>\n    )\n  }\n  //react fragment lets us return multiple elements without any effect on the DOM\n  //ex no need to wrap in div tags and mess up styling\n  render(){\n    return (\n        <Modal\n          title=\"Delete Stream\"\n          content={this.renderContent()}\n          actions={this.renderActions()}\n          onDismiss={ () => history.push('/') }\n        />\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] }\n}\n\nexport default connect(mapStateToProps, { fetchStream , deleteStream })(StreamDelete);\n","import _ from 'lodash';\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { fetchStream , editStream } from '../../actions';\nimport StreamForm from './StreamForm';\n\nclass StreamEdit extends React.Component {\n  componentDidMount(){\n    this.props.fetchStream(this.props.match.params.id);\n  }\n\n  onSubmit = formValues => {\n    this.props.editStream(this.props.match.params.id, formValues);\n  }\n\n  render(){\n    if(!this.props.stream){\n      return <div> Loading... </div>;\n    }\n\n    return(\n      <div>\n        <h3> Edit a Stream</h3>\n        <StreamForm\n          initialValues={_.pick(this.props.stream, 'title', 'description')}\n          onSubmit={this.onSubmit}\n        />\n      </div>\n    )\n    //using lodash pick to pick specific object props we want to use from stream\n    //same as doing {{title: this.props.stream.title description: this.props.stream.description}}\n  }\n}\n\n\nconst mapStateToProps = (state, ownProps) => {\n  return { stream: state.streams[ownProps.match.params.id] }\n}\n\nexport default connect(mapStateToProps, { fetchStream , editStream })(StreamEdit);\n","import React from 'react';\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux';\nimport { fetchStreams } from '../../actions';\n\nclass StreamList extends React.Component{\n\n  componentDidMount(){\n    this.props.fetchStreams();\n  }\n\n  renderAdmin(stream){\n    if(stream.userId === this.props.currentUserId){\n      return (\n        <div className=\"right floated content\">\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\" >\n            EDIT\n          </Link>\n          <Link to={`/streams/delete/${stream.id}`}  className=\"ui button negative\" >\n            DELETE\n          </Link>\n        </div>\n      )\n    }\n  }\n\n  renderCreate(state){\n    if(this.props.isSignedIn){\n      return (\n        <div style={{textAlign: 'right'}}>\n          <Link to=\"/streams/new\" className=\"ui button primary\">\n            Create Stream\n          </ Link>\n        </div>\n      )\n    }\n  }\n\n  renderList(){\n    return this.props.streams.map(stream => {\n      return (\n        <div className=\"item\" key={stream.id}>\n          {this.renderAdmin(stream)}\n          <i className=\"large middle aligned icon camera\" />\n          <div className=\"content\">\n            <Link to={`/streams/${stream.id}`} className=\"header\">\n            {stream.title}\n            </Link>\n            <div className=\"description\">{stream.description} </div>\n          </div>\n        </div>\n      );\n    });\n  }\n\n  render(){\n    return (\n      <div>\n        <h2> Streams </h2>\n        <div className=\"ui celled list\">\n          {this.renderList()}\n        </div>\n        {this.renderCreate()}\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    streams : Object.values(state.streams),\n    currentUserId: state.auth.userId,\n    isSignedIn: state.auth.isSignedIn\n  }\n}\n//object.values turn all values inside object into an array\n\nexport default connect(mapStateToProps, { fetchStreams })(StreamList);\n","import React from 'react';\nimport flv from 'flv.js';\nimport { connect } from 'react-redux';\nimport { fetchStream } from '../../actions';\n\nclass StreamShow extends React.Component{\n  constructor(props){\n    super(props)\n\n    this.videoRef = React.createRef();\n  }\n\n  componentDidMount(){\n    const { id } = this.props.match.params;\n    this.props.fetchStream(id);\n    this.buildPlayer();\n  }\n\n  componentDidUpdate(){\n    this.buildPlayer();\n    //since componentDidMount only loads once,\n    //once we get the player to load we need to call buildPlayer again\n    //to display the created player\n  }\n\n  componentWillUnmount(){\n    this.player.destroy();\n    //will tell player to stop attempting to stream video\n  }\n\n  buildPlayer(){\n    if(this.player || !this.props.stream){\n      return;\n    }\n\n    const { id } = this.props.match.params;\n    this.player = flv.createPlayer({\n      type:'flv',\n      url: `http://localhost:8000/live/${id}.flv`\n    });\n    this.player.attachMediaElement(this.videoRef.current);\n    this.player.load();\n  }\n\n  render(){\n    if(!this.props.stream){\n      return <div> Loading... </div>\n    }\n    return (\n      <div>\n        <video\n          ref={this.videoRef}\n          style={{ width: '100%' }}\n          controls={true}\n        />\n        <h1> {this.props.stream.title} </h1>\n        <h5> {this.props.stream.description} </h5>\n      </div>\n    )\n  }\n}\n\n  const mapStateToProps = (state, ownProps) => {\n    return { stream: state.streams[ownProps.match.params.id]}\n  }\n\nexport default connect(mapStateToProps, { fetchStream } )(StreamShow);\n","import React from 'react';\nimport { Router, Route , Switch } from 'react-router-dom';\nimport Header from './Header';\nimport StreamCreate from './streams/StreamCreate';\nimport StreamDelete from './streams/StreamDelete';\nimport StreamEdit from './streams/StreamEdit';\nimport StreamList from './streams/StreamList';\nimport StreamShow from './streams/StreamShow';\nimport history from '../history';\n\nconst App = () =>{\n  return (\n    <div className=\"ui container\">\n      <Router history={history}>\n        <div>\n        <Header />\n        <Switch>\n        <Route path=\"/\" exact component={StreamList} />\n        <Route path=\"/streams/new\" exact component={StreamCreate} />\n        <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\n        <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\n        <Route path=\"/streams/:id\" exact component={StreamShow} />\n        </Switch>\n        </div>\n      </Router>\n    </div>\n\n)}\n//Use react router dom Switch to get specific route matching.\n//uses the first found match instead of all matching routes\nexport default App;\n","import { SIGN_IN, SIGN_OUT } from '../actions/types'\n\nconst INITIAL_STATE = {\n  isSignedIn: null,\n  userId: null\n};\n\nexport default (state = INITIAL_STATE, action) => {\n  switch(action.type) {\n    case SIGN_IN :\n      return {...state, isSignedIn : true, userId: action.payload};\n    case SIGN_OUT :\n      return {...state, isSignedIn : false, userId: null};\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { reducer as formReducer } from 'redux-form';\n//can also import reducer as import { reducer } from 'redux-form'\nimport authReducer from './authReducer';\nimport streamReducer from './streamReducer';\n\nexport default combineReducers({\n  auth: authReducer,\n  form: formReducer,\n  streams: streamReducer\n})\n","import _ from 'lodash';\nimport {\n  FETCH_STREAM,\n  FETCH_STREAMS,\n  CREATE_STREAM,\n  EDIT_STREAM,\n  DELETE_STREAM\n} from '../actions/types';\n\nexport default (state = {}, action ) => {\n  switch(action.type) {\n    case FETCH_STREAMS:\n      return { ...state, ..._.mapKeys(action.payload, 'id') }\n    case FETCH_STREAM:\n      return { ...state, [action.payload.id] : action.payload }\n    case CREATE_STREAM:\n      return { ...state, [action.payload.id] : action.payload }\n    case EDIT_STREAM:\n      return { ...state, [action.payload.id] : action.payload }\n    case DELETE_STREAM:\n      return _.omit(state, action.payload)\n    default:\n      return state\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore , applyMiddleware, compose } from 'redux';\nimport reduxThunk from 'redux-thunk';\n\nimport App from './components/App';\nimport reducers from './reducers';\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers, composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store} >\n    <App />\n  </Provider>,\n  document.querySelector('#root')\n)\n"],"sourceRoot":""}